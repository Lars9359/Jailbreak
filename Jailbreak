local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

local farming = false
local farmRadius = 20 -- range to detect farm parts

-- Create ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "k0xxUI"
screenGui.Parent = playerGui

-- Create main Frame
local frame = Instance.new("Frame")
frame.Size = UDim2.new(0, 300, 0, 150)
frame.Position = UDim2.new(0.5, -150, 0.5, -75)
frame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
frame.BorderSizePixel = 0
frame.Parent = screenGui

-- Create Title Label
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, 0, 0, 50)
title.BackgroundTransparency = 1
title.Text = "k0xx.exe"
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.Font = Enum.Font.GothamBold
title.TextSize = 30
title.Parent = frame

-- Create toggle button
local button = Instance.new("TextButton")
button.Size = UDim2.new(0.8, 0, 0, 40)
button.Position = UDim2.new(0.1, 0, 0, 70)
button.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
button.TextColor3 = Color3.fromRGB(255, 255, 255)
button.Font = Enum.Font.Gotham
button.TextSize = 20
button.Text = "Start Auto Farm"
button.Parent = frame

-- Farming function (example)
local function farm()
    local character = player.Character
    if not character then return end
    local hrp = character:FindFirstChild("HumanoidRootPart")
    if not hrp then return end

    local workspace = game:GetService("Workspace")
    for _, part in pairs(workspace:GetChildren()) do
        if part:IsA("BasePart") and part.Name == "FarmPart" then
            if (part.Position - hrp.Position).Magnitude <= farmRadius then
                -- Simulate touching or collecting
                -- You can customize this part with the actual farm action of the game
                part.CFrame = hrp.CFrame -- Teleport part to player for pickup (example)
                wait(0.3)
            end
        end
    end
end

-- Toggle farming on button click
button.MouseButton1Click:Connect(function()
    farming = not farming
    if farming then
        button.Text = "Stop Auto Farm"
    else
        button.Text = "Start Auto Farm"
    end
end)

-- Run farming loop
spawn(function()
    while true do
        if farming then
            farm()
        end
        wait(1)
    end
end)
